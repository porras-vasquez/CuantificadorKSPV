<!DOCTYPE html>
<html>
<header>
    <!--ZONA DEL NAVBAR-->
    <%- include('../navbar'); -%>
</header>
<script>
    function removeMessage() {
        localStorage.removeItem("message");
    }
</script>

<body class="row">
    <% if(typeof(status) !="undefined" ) { %>
        <% if(status==200) { %>
            <script>
                if (!localStorage.getItem("message")) {
                    Swal.fire({
                        position: 'center',
                        icon: 'success',
                        title: '<%-message%>',
                        showConfirmButton: false,
                        timer: 1500
                    });
                    localStorage.setItem("message", 1);
                }  
            </script>
            <% }else if(status!=200){ %>
                <script>
                    if (!localStorage.getItem("message")) {
                        Swal.fire({
                            position: 'center',
                            icon: 'error',
                            title: '<%-message%>',
                            showConfirmButton: false,
                            timer: 1500
                        });
                        localStorage.setItem("message", 1);
                    }  
                </script>
                <% } %>
                    <% } %>
                        <div class="col-1"></div>
                        <div class="col-10 card mt-3"
                            style="scrollbar-width: none !important; margin-left: 2%; margin-right: 2%; background-color: #e6e6e6;">
                            <!-- Menu desplegable con animacion -->
                            <div id="menu-container" class="menu-container">
                                <div id="menu" class="menu">
                                    <i id="expand" class="material-icons" style="font-size: 35px">menu_open</i>
                                </div>
                                <div class="flex-menu">
                                    <ul class="list-unstyled chat-list  mb-0">
                                        <ul class="list-group list-group-flush button">
                                            <a href="/electricities/electricities/<%=company._id%>" type="button"
                                                class="btn btn primary ">Vista de reportes</a>
                                        </ul>
                                        <ul class="list-group list-group-flush button">
                                            <a href="/companies/showCompany" type="button"
                                                class="btn btn primary ">Atras</a>
                                        </ul>
                                    </ul>
                                </div>
                            </div>
                            <!-- Content of form-->
                            <div class="row table-container">
                                <form action="/electricities/saveElectricity/<%=company._id%>" method="post"
                                    class="newElectricity row" style="margin-left: 5%;">
                                    <div class="col-12">
                                        <h2 class="h2" style="margin-bottom: 1%;">Módulo Electricidad: Agregar</h2>
                                    </div>
                                    <div class="row">
                                        <div class="col-3">
                                            <p class="p" type="Título:">
                                                <input placeholder="Digite un título." type="text" name="titulo" class="input p2" required />
                                            </p>
                                            <p class="p" type="Fuente reporte:">
                                                <input placeholder="Digite una fuente." type="text" name="fuente_reporte" class="input p2" required />
                                            </p>
                                            <p class="p" type="Unidad de medida:">
                                                <select class="p2" name="unidad_medida" class="form-select p2 input"
                                                    aria-label="Default select example">
                                                    <option disabled selected value="">Seleccione</option>
                                                    <option value="Kilowatts/hora">Kilowatts/hora</option>
                                                </select>
                                            </p>
                                            <p class="p" type="Ultima actualización">
                                                <input type="date" id="start" name="ultima_update" value="yyyy-mm-dd"
                                                    class="input p2" required />
                                            </p>
                                        </div>
                                        <div class="col-3">
                                            <p class="p" type="Factor de emisión:">
                                                <input placeholder="Factor de emisión." type="text" pattern="^[0-9]+\.?[0-9]*$"
                                                    oninvalid="this.setCustomValidity('Este campo es obligatorio, no se permite el uso de comas, caracteres especiales, espacios o letras')"
                                                    oninput="this.setCustomValidity('')" autocomplete="off"
                                                    name="factor_emision" class="input p2" required="true" />
                                            <p class="p" type="Datos de emision general:">
                                               <select class="p2" name="gei" aria-placeholder="GEI" class="form-select"
                                                    aria-label="Default select example">
                                                    <option value="" disabled selected>Seleccione el GEI</option>
                                                    <option value="CO2">CO2</option>
                                                </select>
                                            </p>
                                            <p class="p" type="PCG">
                                                <input type="text" pattern="^[0-9]+\.?[0-9]*$"
                                                    oninvalid="this.setCustomValidity('Este campo es obligatorio, no se permite el uso de comas, caracteres especiales, espacios o letras')"
                                                    oninput="this.setCustomValidity('')" autocomplete="off"
                                                    placeholder="PCG" name="pcg" class="form-control input p2" required="true" />
                                            </p>
                                        </div>
                                    </div>
                            </div>
                            <div class="btnContainer mb-4" style="margin-top: 4%;">
                                <input type="submit" onclick="removeMessage()" name="CompanyController"
                                    class="btn btn-success" value="Guardar">
                                <button type="button" class="btn btn-danger">
                                    <a href="/electricities/electricities/<%=company._id%>" type="button">Cancelar</a>
                                </button>
                            </div>
                        </div>

                        </form>
                        </div>
                        </div>
</body>
<footer class="bg-light text-center text-lg-start footer" style="margin-top: 1.5%;">
    <!-- Copyright -->
    <div class="text-center p-4">
        © 2022 Copyright: Porras & Vásquez
    </div>
    <!-- Copyright -->
</footer>

</html>